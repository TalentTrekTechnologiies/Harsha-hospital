<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Book Appointment - MediCare Hospital</title>
    
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.4.0/css/all.min.css">
    
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    
    <!-- Custom CSS -->
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
    <!-- Emergency Widget -->
    <div id="emergency-widget" class="emergency-widget">
        <button class="emergency-btn" onclick="toggleEmergencyInfo()">
            <i class="fas fa-ambulance"></i>
            <span>Emergency</span>
        </button>
        <div id="emergency-info" class="emergency-info hidden">
            <h3>Emergency Contacts</h3>
            <div class="emergency-item">
                <i class="fas fa-phone-alt"></i>
                <div>
                    <strong>Emergency:</strong>
                    <a href="tel:+1555EMERGENCY">+1-555-EMERGENCY</a>
                </div>
            </div>
            <div class="emergency-item">
                <i class="fas fa-ambulance"></i>
                <div>
                    <strong>Ambulance:</strong>
                    <a href="tel:+1555AMBULANCE">+1-555-AMBULANCE</a>
                </div>
            </div>
            <p class="emergency-note">Available 24/7</p>
        </div>
    </div>

    <!-- Navigation -->
    <nav class="navbar">
        <div class="container">
            <div class="nav-brand">
                <i class="fas fa-hospital"></i>
                <span>MediCare Hospital</span>
            </div>
            <button class="nav-toggle" onclick="toggleMobileNav()">
                <i class="fas fa-bars"></i>
            </button>
            <ul class="nav-menu" id="nav-menu">
                <li><a href="index.html">Home</a></li>
                <li><a href="departments.html">Departments</a></li>
                <li><a href="doctors.html">Doctors</a></li>
                <li><a href="appointments.html" class="active">Book Appointment</a></li>
                <li><a href="gallery.html">Gallery</a></li>
                <li><a href="blog.html">Blog</a></li>
                <li><a href="contact.html">Contact</a></li>
                <li><a href="admin/login.html" class="btn-admin">Admin</a></li>
            </ul>
        </div>
    </nav>

    <!-- Page Header -->
    <section class="page-header">
        <div class="container">
            <h1>Book an Appointment</h1>
            <p>Schedule your consultation with our expert doctors</p>
        </div>
    </section>

    <!-- Appointment Booking Section -->
    <section class="section">
        <div class="container">
            <div class="appointment-container">
                <!-- Booking Steps Indicator -->
                <div class="booking-steps">
                    <div class="step active" data-step="1">
                        <div class="step-number">1</div>
                        <div class="step-label">Department</div>
                    </div>
                    <div class="step" data-step="2">
                        <div class="step-number">2</div>
                        <div class="step-label">Doctor</div>
                    </div>
                    <div class="step" data-step="3">
                        <div class="step-number">3</div>
                        <div class="step-label">Date & Time</div>
                    </div>
                    <div class="step" data-step="4">
                        <div class="step-number">4</div>
                        <div class="step-label">Patient Info</div>
                    </div>
                    <div class="step" data-step="5">
                        <div class="step-number">5</div>
                        <div class="step-label">Confirmation</div>
                    </div>
                </div>

                <!-- Booking Form -->
                <div class="booking-form-container">
                    <!-- Step 1: Select Department -->
                    <div id="step-1" class="booking-step active">
                        <h2>Select Department</h2>
                        <p class="step-description">Choose the medical specialty you need</p>
                        <div id="department-selection" class="selection-grid">
                            <!-- Departments will be loaded here -->
                        </div>
                    </div>

                    <!-- Step 2: Select Doctor -->
                    <div id="step-2" class="booking-step">
                        <h2>Select Doctor</h2>
                        <p class="step-description">Choose from available doctors in <span id="selected-dept-name"></span></p>
                        
                        <div class="search-box mb-3">
                            <i class="fas fa-search"></i>
                            <input type="text" id="doctor-search-booking" placeholder="Search doctor by name...">
                        </div>
                        
                        <div id="doctor-selection" class="doctors-selection-grid">
                            <!-- Doctors will be loaded here -->
                        </div>
                        
                        <div class="step-navigation">
                            <button class="btn btn-secondary" onclick="previousStep()">
                                <i class="fas fa-arrow-left"></i> Back
                            </button>
                        </div>
                    </div>

                    <!-- Step 3: Select Date and Time -->
                    <div id="step-3" class="booking-step">
                        <h2>Select Date & Time</h2>
                        <p class="step-description">Choose your preferred appointment slot</p>
                        
                        <div class="doctor-info-summary">
                            <img id="summary-doctor-photo" src="" alt="Doctor">
                            <div>
                                <h3 id="summary-doctor-name"></h3>
                                <p id="summary-doctor-specialty"></p>
                                <p class="fee"><i class="fas fa-dollar-sign"></i> Consultation Fee: $<span id="summary-doctor-fee"></span></p>
                            </div>
                        </div>

                        <div class="datetime-selection">
                            <div class="date-selector">
                                <h3>Select Date</h3>
                                <input type="date" id="appointment-date" min="">
                            </div>
                            
                            <div class="time-selector">
                                <h3>Available Time Slots</h3>
                                <div id="time-slots" class="time-slots-grid">
                                    <p class="info-text">Please select a date first</p>
                                </div>
                            </div>
                        </div>
                        
                        <div class="step-navigation">
                            <button class="btn btn-secondary" onclick="previousStep()">
                                <i class="fas fa-arrow-left"></i> Back
                            </button>
                        </div>
                    </div>

                    <!-- Step 4: Patient Information -->
                    <div id="step-4" class="booking-step">
                        <h2>Patient Information</h2>
                        <p class="step-description">Please provide patient details</p>
                        
                        <div class="patient-type-selection">
                            <label class="radio-card">
                                <input type="radio" name="patient-type" value="guest" checked onchange="togglePatientForm()">
                                <div class="radio-card-content">
                                    <i class="fas fa-user"></i>
                                    <span>Guest Booking</span>
                                    <small>Quick booking without registration</small>
                                </div>
                            </label>
                            <label class="radio-card">
                                <input type="radio" name="patient-type" value="registered" onchange="togglePatientForm()">
                                <div class="radio-card-content">
                                    <i class="fas fa-user-check"></i>
                                    <span>Registered Patient</span>
                                    <small>Login or register for detailed records</small>
                                </div>
                            </label>
                        </div>

                        <!-- Guest Booking Form -->
                        <form id="guest-form" class="patient-form">
                            <div class="form-row">
                                <div class="form-group">
                                    <label for="guest-name"><i class="fas fa-user"></i> Full Name *</label>
                                    <input type="text" id="guest-name" required>
                                </div>
                                <div class="form-group">
                                    <label for="guest-email"><i class="fas fa-envelope"></i> Email *</label>
                                    <input type="email" id="guest-email" required>
                                </div>
                            </div>
                            
                            <div class="form-row">
                                <div class="form-group">
                                    <label for="guest-phone"><i class="fas fa-phone"></i> Phone Number *</label>
                                    <input type="tel" id="guest-phone" required>
                                </div>
                                <div class="form-group">
                                    <label for="guest-age"><i class="fas fa-birthday-cake"></i> Age *</label>
                                    <input type="number" id="guest-age" min="0" max="150" required>
                                </div>
                            </div>

                            <div class="form-group">
                                <label for="guest-reason"><i class="fas fa-notes-medical"></i> Reason for Visit</label>
                                <textarea id="guest-reason" rows="3" placeholder="Brief description of your health concern..."></textarea>
                            </div>
                        </form>

                        <!-- Registered Patient Form -->
                        <div id="registered-form" class="patient-form hidden">
                            <p class="info-message">
                                <i class="fas fa-info-circle"></i>
                                For registered patients, please login or create an account to maintain detailed medical records and appointment history.
                            </p>
                            <div class="auth-buttons">
                                <button class="btn btn-primary" onclick="alert('Login functionality would integrate with your authentication system')">
                                    <i class="fas fa-sign-in-alt"></i> Login
                                </button>
                                <button class="btn btn-outline" onclick="alert('Registration functionality would integrate with your authentication system')">
                                    <i class="fas fa-user-plus"></i> Register
                                </button>
                            </div>
                        </div>
                        
                        <div class="step-navigation">
                            <button class="btn btn-secondary" onclick="previousStep()">
                                <i class="fas fa-arrow-left"></i> Back
                            </button>
                            <button class="btn btn-primary" onclick="nextStep()">
                                Continue <i class="fas fa-arrow-right"></i>
                            </button>
                        </div>
                    </div>

                    <!-- Step 5: Confirmation and Payment -->
                    <div id="step-5" class="booking-step">
                        <h2>Confirm Your Appointment</h2>
                        <p class="step-description">Review your appointment details</p>
                        
                        <div class="appointment-summary">
                            <h3><i class="fas fa-clipboard-check"></i> Appointment Details</h3>
                            
                            <div class="summary-item">
                                <span class="summary-label">Department:</span>
                                <span class="summary-value" id="final-department"></span>
                            </div>
                            
                            <div class="summary-item">
                                <span class="summary-label">Doctor:</span>
                                <span class="summary-value" id="final-doctor"></span>
                            </div>
                            
                            <div class="summary-item">
                                <span class="summary-label">Date:</span>
                                <span class="summary-value" id="final-date"></span>
                            </div>
                            
                            <div class="summary-item">
                                <span class="summary-label">Time:</span>
                                <span class="summary-value" id="final-time"></span>
                            </div>
                            
                            <div class="summary-item">
                                <span class="summary-label">Patient Name:</span>
                                <span class="summary-value" id="final-patient-name"></span>
                            </div>
                            
                            <div class="summary-item">
                                <span class="summary-label">Contact:</span>
                                <span class="summary-value" id="final-contact"></span>
                            </div>
                            
                            <div class="summary-divider"></div>
                            
                            <div class="summary-item total">
                                <span class="summary-label">Consultation Fee:</span>
                                <span class="summary-value fee-amount">$<span id="final-fee"></span></span>
                            </div>
                        </div>

                        <div class="payment-section">
                            <h3><i class="fas fa-credit-card"></i> Payment Options</h3>
                            <div class="payment-options">
                                <label class="radio-card payment-card">
                                    <input type="radio" name="payment-method" value="online" checked>
                                    <div class="radio-card-content">
                                        <i class="fas fa-credit-card"></i>
                                        <span>Pay Online</span>
                                        <small>Credit/Debit Card, UPI, Wallets</small>
                                    </div>
                                </label>
                                <label class="radio-card payment-card">
                                    <input type="radio" name="payment-method" value="hospital">
                                    <div class="radio-card-content">
                                        <i class="fas fa-hospital"></i>
                                        <span>Pay at Hospital</span>
                                        <small>Cash or Card at reception</small>
                                    </div>
                                </label>
                            </div>
                        </div>

                        <div class="terms-checkbox">
                            <label>
                                <input type="checkbox" id="terms-accept" required>
                                I agree to the <a href="#">Terms & Conditions</a> and <a href="#">Cancellation Policy</a>
                            </label>
                        </div>
                        
                        <div class="step-navigation">
                            <button class="btn btn-secondary" onclick="previousStep()">
                                <i class="fas fa-arrow-left"></i> Back
                            </button>
                            <button class="btn btn-success btn-lg" onclick="confirmAppointment()">
                                <i class="fas fa-check-circle"></i> Confirm & Book Appointment
                            </button>
                        </div>
                    </div>

                    <!-- Success Message (Hidden initially) -->
                    <div id="success-message" class="success-message hidden">
                        <div class="success-icon">
                            <i class="fas fa-check-circle"></i>
                        </div>
                        <h2>Appointment Booked Successfully!</h2>
                        <p>Your appointment has been confirmed. You will receive a confirmation email shortly.</p>
                        <div class="appointment-id">
                            <strong>Appointment ID:</strong> <span id="appointment-id"></span>
                        </div>
                        <div class="success-actions">
                            <a href="index.html" class="btn btn-primary">Go to Home</a>
                            <a href="appointments.html" class="btn btn-outline">Book Another Appointment</a>
                        </div>
                    </div>
                </div>

                <!-- My Appointments Section -->
                <div class="my-appointments-section">
                    <h2><i class="fas fa-calendar-alt"></i> Manage My Appointments</h2>
                    <p>View, reschedule, or cancel your appointments</p>
                    
                    <div class="appointment-lookup">
                        <div class="form-group">
                            <label for="lookup-email">Enter your email to view appointments:</label>
                            <div class="input-with-button">
                                <input type="email" id="lookup-email" placeholder="your.email@example.com">
                                <button class="btn btn-primary" onclick="lookupAppointments()">
                                    <i class="fas fa-search"></i> Search
                                </button>
                            </div>
                        </div>
                    </div>

                    <div id="appointments-list" class="appointments-list hidden">
                        <!-- User appointments will be loaded here -->
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-col">
                    <h3><i class="fas fa-hospital"></i> MediCare Hospital</h3>
                    <p>Your trusted healthcare partner.</p>
                </div>
                <div class="footer-col">
                    <h4>Quick Links</h4>
                    <ul>
                        <li><a href="departments.html">Departments</a></li>
                        <li><a href="doctors.html">Doctors</a></li>
                        <li><a href="gallery.html">Gallery</a></li>
                    </ul>
                </div>
                <div class="footer-col">
                    <h4>Contact</h4>
                    <p><i class="fas fa-phone"></i> +1-555-EMERGENCY</p>
                    <p><i class="fas fa-envelope"></i> info@medicare-hospital.com</p>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2024 MediCare Hospital. All rights reserved.</p>
            </div>
        </div>
    </footer>

    <script src="js/main.js"></script>
    <script src="js/appointments.js"></script>
</body>
</html>
